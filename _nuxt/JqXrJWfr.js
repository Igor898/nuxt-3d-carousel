import{d as U,r as I,k as y,F as Q,o as tt,y as c,z as l,A as i,G as M,H as X,I as $,J as q,K as et,L as nt,B as g,_ as S,C as ot}from"./DT5QFTti.js";const st=[{id:1,img:"https://cdnlv.redkassa.ru/live/sitenew/picture/09b6b3f4-ac45-4a13-9dbe-eabae106cae2",name:"Macan",quote:"Пока не упал духом, любые другие падения по плечу",socials:["Узнать больше"]},{id:2,img:"https://i.scdn.co/image/ab6761610000e5eb038e6fce74892686d0b621f6",name:"1 kla$",quote:"Я протыкаю дев, как пирсинг, Банально, baby, я женоненавистник!",socials:["Узнать больше"]},{id:3,img:"https://avatars.mds.yandex.net/i?id=1a579376724046ba8c4fff02ee23d73b_l-12590692-images-thumbs&n=13",name:"Icegergert",quote:"Yung Rich, Yung Hustle, Secret Victory",socials:["Узнать больше"]},{id:4,img:"https://lastfm.freetls.fastly.net/i/u/ar0/25cebcf73b9daeb788c9dbe2dafbd8c0.jpg",name:"Tenderlybae",quote:"Дважды, однажды, теперь уже не важно",socials:["Узнать больше"]},{id:5,img:"https://i.pinimg.com/736x/db/fd/30/dbfd3008248fa7f133395b3e8a4faa6b.jpg",name:"Мэйби Бэйби",quote:"Френдзона Френдзона Френдзона Френдзона",socials:["Узнать больше"]}],at={class:"carousel-page"},it=["aria-hidden"],rt={class:"card-body"},ct={class:"name"},lt={class:"handle"},dt={class:"quote"},ut={class:"socials"},mt={key:0,class:"glow"},ft=99999,pt=1.5,E=340,ht=.95,gt=.15,bt=U({__name:"Carousel3D",setup(A){const b=I(null),u=I(null),m=st,C=m.length,T=y(()=>[...m,...m,...m]),r={baseWidth:340,gap:110,tabletBreakpoint:1024,mobileBreakpoint:780},t=Q({pos:0,velocity:0,isDragging:!1,lastPointerX:0,lastTime:performance.now(),width:0,itemWidth:r.baseWidth,animTo:null}),B=y(()=>C*(t.itemWidth+r.gap));function d(e){return e*(t.itemWidth+r.gap)+t.itemWidth/2}function L(){const n=d(C),o=t.width||0;return n-o/2+t.itemWidth/2}const R=y(()=>({transform:`translate3d(${-t.pos}px, 0, 0)`,perspective:`${ft}px`}));function v(e){const n=t.pos+t.width/2,o=d(e);return Math.abs(o-n)<t.itemWidth*.6}function z(e){const n=t.pos+t.width/2,s=(d(e)-n)/(t.itemWidth+r.gap),a=Math.abs(s),Y=Math.max(.6,pt-.5*a),Z=Math.max(-32,Math.min(32,s*14)),G=-Math.min(380,a*220),J=Math.max(.25,1-a*.28),K=Math.round(100-a*10);return{width:`${t.itemWidth}px`,marginRight:`${r.gap}px`,transform:`translateZ(${G}px) rotate(${Z}deg) scale(${Y})`,opacity:`${J}`,zIndex:K,transition:t.isDragging||t.animTo?"transform 0ms":"transform 420ms cubic-bezier(.2,.9,.2,1), filter 420ms, opacity 420ms"}}function x(){t.width=b.value?.clientWidth??0;let e;t.width<=r.mobileBreakpoint?e=Math.max(220,Math.round(t.width-120)):t.width<=r.tabletBreakpoint?e=Math.max(280,Math.round(t.width*.6)):e=r.baseWidth,t.itemWidth=Math.min(E,e)}function P(){const e=B.value;if(e<=0)return;const n=(t.pos%e+e)%e;t.pos=n+e}function f(){const e=t.pos+t.width/2;let n=0,o=1/0;for(let s=0;s<T.value.length;s++){const a=Math.abs(d(s)-e);a<o&&(o=a,n=s)}return n}function F(e,n=480){t.animTo={start:t.pos,target:e,startTime:performance.now(),dur:n},t.velocity=0}function _(e,n=480){const s=d(e)-t.width/2;F(s,n)}function V(e){return 1-Math.pow(1-e,3)}function W(){const e=performance.now();if(t.animTo){const n=t.animTo,o=Math.min(1,(e-n.startTime)/n.dur),s=V(o);t.pos=n.start+(n.target-n.start)*s,o>=1&&(t.animTo=null)}else if(!t.isDragging)if(Math.abs(t.velocity)>gt)t.pos+=t.velocity,t.velocity*=ht;else{const n=f(),a=d(n)-t.width/2-t.pos;Math.abs(a)>.5&&(t.pos+=a*.18)}P(),requestAnimationFrame(W)}let w=performance.now();function k(e){e.target.setPointerCapture?.(e.pointerId),t.isDragging=!0,t.lastPointerX=e.clientX,t.animTo=null,t.velocity=0,w=performance.now()}function D(e){if(!t.isDragging)return;const n=performance.now(),o=e.clientX-t.lastPointerX,s=Math.max(1,n-w);t.lastPointerX=e.clientX,w=n,t.pos-=o,t.velocity=o/s*16*.95}function p(){if(t.isDragging)if(t.isDragging=!1,Math.abs(t.velocity)>3.2){const e=t.velocity<0?1:-1,n=f();_(n+e)}else{const e=f();_(e)}}function H(e){const n=e.touches;if(n.length===0)return;const o=n.item(0);o&&k({clientX:o.clientX,pointerId:o.identifier,target:e.target})}function N(e){const n=e.touches;if(n.length===0)return;const o=n.item(0);o&&D({clientX:o.clientX})}function O(e){p()}let h=null;function j(e){Math.abs(e.deltaX)<Math.abs(e.deltaY)||(e.preventDefault?.(),t.pos+=e.deltaX,t.velocity=e.deltaX*.6,h&&window.clearTimeout(h),h=window.setTimeout(()=>{h=null;const n=f();_(n)},120))}return tt(()=>{x(),requestAnimationFrame(()=>{const e=u.value?.querySelector(".card-wrap");if(e){const n=Math.round(e.getBoundingClientRect().width||0);n>0&&(t.itemWidth=Math.min(E,n))}t.pos=L(),P()}),window.addEventListener("resize",x),requestAnimationFrame(W)}),(e,n)=>(l(),c("div",at,[i("div",{class:"carousel-shell",ref_key:"viewport",ref:b,onPointerdown:k,onPointermove:D,onPointerup:p,onPointercancel:p,onPointerleave:p,onTouchstart:q(H,["prevent"]),onTouchmove:q(N,["prevent"]),onTouchend:O,onWheelPassive:j},[i("div",{class:"carousel-track",style:M(R.value),ref_key:"track",ref:u},[(l(!0),c(X,null,$(T.value,(o,s)=>(l(),c("div",{key:`${o.id}-${s}`,class:"card-wrap",style:M(z(s))},[i("article",{class:et(["card",{active:v(s)}]),"aria-hidden":!v(s)},[i("div",{class:"card-media",style:M(`background-image: url(${o.img})`)},null,4),i("div",rt,[n[0]||(n[0]=i("span",{class:"card-body_span"},"Имя блогера:",-1)),i("h3",ct,g(o.name),1),n[1]||(n[1]=i("span",{class:"card-body_span"},"Никнейм в соцсетях:",-1)),i("p",lt,"@"+g(o.name.toLowerCase().replace(/\s+/g,"")),1),n[2]||(n[2]=i("span",{class:"card-body_span"},"Цитата:",-1)),i("p",dt,'"'+g(o.quote)+'"',1),i("div",ut,[(l(!0),c(X,null,$(o.socials,a=>(l(),c("a",{key:a,href:"#",class:"social"},g(a),1))),128))])]),v(s)?(l(),c("div",mt)):nt("",!0)],10,it)],4))),128))],4)],544)]))}}),vt=Object.assign(S(bt,[["__scopeId","data-v-3dca343d"]]),{__name:"Carousel3D"}),_t={};function wt(A,b){const u=vt;return l(),c("div",null,[ot(u)])}const Mt=S(_t,[["render",wt]]);export{Mt as default};
